# Техническое задание на проект: LaborScope

## 1. Цель проекта
Разработка веб-сервиса для анализа рынка труда, предназначенного для HR-специалистов и соискателей. Сервис позволяет получать вакансии по выбранному городу и профессии из внешнего API, сохранять результаты запросов, выполнять фильтрацию и сортировку вакансий, а также формировать аналитические сводки по зарплатам и количеству предложений.

## 2. Роли пользователей
- Гость: может выполнять поиск вакансий по городу и профессии, просматривать список вакансий и общую аналитику.
- Зарегистрированный пользователь: может сохранять историю своих запросов, добавлять вакансии и запросы в избранное, просматривать персональную аналитику.
- Администратор: управляет справочниками, запросами и сохранёнными вакансиями через административную панель Django.

## 3. Модели данных

### 3.1 City
Справочник городов для выполнения поисковых запросов.
- name — название города
- external_id — идентификатор города во внешнем API
- created_at — дата добавления записи

### 3.2 SearchRequest
Запрос пользователя к внешнему API вакансий.
- query — строка профессии или ключевых слов
- city — связь с моделью City
- user — связь с моделью пользователя
- created_at — дата выполнения запроса
- vacancies_found — количество найденных вакансий

### 3.3 Vacancy
Вакансия, полученная из внешнего API и сохранённая в системе.
- search_request — связь с моделью SearchRequest
- external_id — идентификатор вакансии во внешнем API
- name — название вакансии
- employer_name — название работодателя
- salary_from — минимальная зарплата
- salary_to — максимальная зарплата
- currency — валюта зарплаты
- area_name — город вакансии
- published_at — дата публикации вакансии
- url — ссылка на вакансию

### 3.4 Favorite
Избранные вакансии и запросы пользователя.
- user — связь с моделью пользователя
- vacancy — связь с моделью Vacancy
- created_at — дата добавления в избранное

Связи между моделями:
- City связан с SearchRequest по принципу один ко многим
- SearchRequest связан с Vacancy по принципу один ко многим
- Пользователь связан с SearchRequest и Favorite

## 4. Ключевой функционал
- Поиск вакансий по городу и профессии через форму ввода
- Получение данных о вакансиях из внешнего API
- Сохранение поисковых запросов и вакансий в базе данных
- Фильтрация и сортировка вакансий по дате публикации и уровню зарплаты
- Добавление вакансий и запросов в избранное для зарегистрированных пользователей
- Просмотр истории запросов пользователя
- Формирование аналитики по количеству вакансий и уровню зарплат

## 5. Внешние интеграции и аналитика
- Использование внешнего API вакансий для получения данных о рынке труда
- Применение Django ORM для агрегации данных
- Расчёт среднего уровня зарплат и количества вакансий по запросам и городам
- Отображение аналитических данных в виде таблиц и графиков

## 6. Изменения в ходе реализации
Все изменения архитектуры, моделей или функционала фиксируются в данном разделе по мере разработки проекта.
